@using SAMAirline.Logic.Interfaces
@using SAMAirline.Model.Models
@model SAMAirline.Model.PaginationModels.FlightPaginationModel
@{
    ViewBag.Title = "Index";
}
<div id="carousel-example-1z" class="carousel slide carousel-fade" style="max-height: 300px;" data-ride="carousel">

    <!--Indicators-->
    <ol class="carousel-indicators">
        <li data-target="#carousel-example-1z" data-slide-to="0" class="active"></li>
        <li data-target="#carousel-example-1z" data-slide-to="1"></li>
        <li data-target="#carousel-example-1z" data-slide-to="2"></li>
    </ol>
    <!--/.Indicators-->
    <!--Slides-->
    <div class="carousel-inner" role="listbox">

        <!--First slide-->
        <div class="carousel-item active">
            <div class="view" style="background-image: url('/Style/img/background1.jpg'); background-repeat: no-repeat; background-size: cover;">

                <!-- Mask & flexbox options-->
                <div class="mask rgba-black-light d-flex justify-content-center align-items-center">

                    <!-- Content -->
                    <div class="text-center white-text mx-5 wow fadeIn">
                        <h1 class="mb-4">
                            <strong>@Resources.Resource.MainTitle</strong>
                        </h1>
                    </div>
                    <!-- Content -->

                </div>
                <!-- Mask & flexbox options-->

            </div>
        </div>
        <!--/First slide-->
        <!--Second slide-->
        <div class="carousel-item">
            <div class="view" style="background-image: url('/Style/img/background2.jpg'); background-repeat: no-repeat; background-size: cover;">

                <!-- Mask & flexbox options-->
                <div class="mask rgba-black-light d-flex justify-content-center align-items-center">

                    <!-- Content -->
                    <div class="text-center white-text mx-5 wow fadeIn">
                        <h1 class="mb-4">
                            <strong>@Resources.Resource.MainTitle</strong>
                        </h1>
                    </div>
                    <!-- Content -->

                </div>
                <!-- Mask & flexbox options-->

            </div>
        </div>
        <!--/Second slide-->
        <!--Third slide-->
        <div class="carousel-item">
            <div class="view" style="background-image: url('/Style/img/background7.jpg'); background-repeat: no-repeat; background-size: cover;">

                <!-- Mask & flexbox options-->
                <div class="mask rgba-black-light d-flex justify-content-center align-items-center">

                    <!-- Content -->
                    <div class="text-center white-text mx-5 wow fadeIn">
                        <h1 class="mb-4">
                            <strong>@Resources.Resource.MainTitle</strong>
                        </h1>
                    </div>
                    <!-- Content -->

                </div>
                <!-- Mask & flexbox options-->

            </div>
        </div>
        <!--/Third slide-->

    </div>
    <!--/.Slides-->
    <!--Controls-->
    <a class="carousel-control-prev" href="#carousel-example-1z" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
    </a>
    <a class="carousel-control-next" href="#carousel-example-1z" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
    </a>
    <!--/.Controls-->

</div>
<!--/.Carousel Wrapper-->
<!--Main layout-->
<main>
    <div class="container">
        <section class="mt-5 wow fadeIn" style="position: -webkit-sticky;position: sticky; top: 65px; z-index:100;">
            <div class="card">
                <section class="card-body" style="padding-top: 5px; padding-bottom: 0;">
                    <div class="row wow fadeIn">
                        <div class="col-md-12 mb-6">
                            @using (Html.BeginForm())
                            {
                                @Html.AntiForgeryToken()
                                @Html.ValidationSummary(true, "", new { @class = "text-danger" })
                                <div class="center">
                                    <div style="padding: 15px 15px 0 15px; border-bottom: 3px solid #4285f4!important; border-radius:10px; border-top: 3px solid #4285f4!important;">
                                        <div class="row">
                                            <div class="col-md-12">
                                                <div class="row" style=" padding-bottom: 25px;">
                                                    <div class="col-md-3 autocomplete">
                                                        <div class="row" style="margin-left: 0px  !important">
                                                            <label style="font-size:17px; font-weight:500">@Resources.Resource.FlyingFrom</label>
                                                            <div class="row">
                                                                <div class="col-md-9 col-sm-12" style="margin: 0 0 5px 0; margin: 0 0 5px 0; padding-right: 0px;">
                                                                    @Html.EditorFor(model => model.From, new { htmlAttributes = new { @id = "FromInput", @class = "form-control", @type = "text", @placeholder = Resources.Resource.DepartingCity } })
                                                                    <div style="max-height:18px; text-align: center;">
                                                                        @Html.ValidationMessageFor(model => model.From, "", new { @class = "text-danger" })
                                                                    </div>
                                                                </div>
                                                                <div class="col-md-3 col-sm-12" style="margin: 5px 0">
                                                                    <a class="btn btn-primary" onclick="ChangeAirports(); return false;" style="padding-left: 10px;padding-right: 10px;padding-top: 5px;padding-bottom: 5px;margin-bottom: 0px;margin-top: 0px;">
                                                                        <i class="fas fa-exchange-alt"></i>
                                                                    </a>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3 autocomplete">
                                                        <label style="font-size:17px; font-weight:500">@Resources.Resource.FlyingTo</label>
                                                        @Html.EditorFor(model => model.To, new { htmlAttributes = new { @id = "ToInput", @class = "form-control", @type = "text", @placeholder = Resources.Resource.ArrivalCity } })
                                                        <div style="max-height:18px; text-align: center;">
                                                            @Html.ValidationMessageFor(model => model.To, "", new { @class = "text-danger" })
                                                        </div>
                                                    </div>
                                                    <div class="col-md-2">
                                                        <label style="font-size:17px; font-weight:500">@Resources.Resource.DepartingAt</label>
                                                        @Html.EditorFor(model => model.DepDate, new { htmlAttributes = new { @type = "date", @style = "min-width: 170px;", @class = "form-control" } })
                                                    </div>
                                                    <div class="col-md-2">
                                                        <label style="font-size:17px; font-weight:500">@Resources.Resource.ReturnDate</label>
                                                        @Html.EditorFor(model => model.ReturnDate, new { htmlAttributes = new { @value = Model.ReturnDate, @type = "date", @style = "min-width: 170px;", @class = "form-control" } })
                                                    </div>
                                                    <div class="col-md-2">
                                                        <label style="font-size:17px; font-weight:500">@Resources.Resource.TicketsCount</label>
                                                        @Html.DropDownList("Count", new SelectList(new List<int>() { 1, 2, 3, 4, 5, 6, 7, 8, 9 }), new { @class = "custom-select d-block w-100" })
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            }

                            <div class="d-flex justify-content-center">
                                <button id="findFlights" onclick="GetFlights(1); return false;" style="margin-top: 10px;" class="btn btn-primary">@Resources.Resource.FindFlights   <i class="fa fa-search"></i></button>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </section>
        <!--Section: Main info-->
        <section class="mt-5 wow fadeIn row">
            <div class="col-md-2"></div>
            <div id="flightContainer" class="col-md-8 fadeIn">@Html.Partial("~/Views/Shared/FlightPartialView.cshtml")</div>
            <div class="col-md-2"></div>

        </section>
    </div>
</main>


<script>
    $("select[name=Count]").on('change', function () {
        GetFlights(1);
    });


    autocomplete(document.getElementById("FromInput"), airports);
    autocomplete(document.getElementById("ToInput"), airports);
    $(function () {
        $('[data-toggle="tooltip"]').tooltip()
    })
</script>